<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='/css/styles.css' rel='stylesheet' type='text/css'>
    <link rel="icon" type="image/png" href='/images/favicon_logo_sh.png'>
    <link rel="apple-touch-icon" type="image/png" href='/images/favicon_logo_sh.png'>
    <link rel="icon" type="image/png" sizes="144x144" href='/images/favicon_logo_sh.png'>
    <title>Adding items with SHED</title>
  </head>
  <body>
    <script src="/menus.js"></script>
    <main>
      <h1>Adding items with SHED</h1>
      <p><strong>Disclaimer</strong> : instructions here are subject to become outdated or change if SHED gets updated. SHED has some bugs, so everything might not work as expected.</p>
      <p>In order to create an item in SHED, the steps listed in <a href="../cloning_manually/index.html">this page</a> also apply.</p>
      <p>First, make sure you have <a href="../../../essentials/shed/index.html">setup SHED</a> and that it reads both your mod and the stonehearth mod. We'll be using the startermod_basic here too for the explanation.</p>
      <ol>
        <li>
          <p>Let's say we want to add a new table with roughly the same size as the table for one from the stonehearth mod.</p>
        </li>
        <li>
          <p>First we need to find this item using the search bar.
            <img src="/images/basic/adding_items/search_bar.png" alt="search_bar"/>
            Now, we're gonna clone it into our mod.
          </p>
          <p>  <img src="/images/common/row_alert2.png" alt="icon"/>If we plan on creating a recipe for this item, we could clone the recipe instead, because that will attempt to clone the produced item too. However, if it's a new item for an existing crafter from the stonehearth mod, we'd need to edit the recipe file outside of SHED, and setup the mixinto to the recipes index also outside of SHED.</p>
          <p>  Right-click on it in the treeview and click on "Clone".
            <img src="/images/basic/adding_items/context_menu.png" alt="context_menu"/>
          </p>
        </li>
        <li>
          <p>First of all, let's change the target mod to our mod.
            <img src="/images/basic/adding_items/target_mod.png" alt="target_mod"/>
            Now we'll type something to replace all the "table_for_one"s for the folders and filenames. In our case, we want the item to be called "custom_table": <img src="/images/basic/adding_items/replacement_text.png" alt="replacement_text"/> We could have added more replacement texts using the "+" button at the top-right if we wanted to. Now click on the "Clone!" button.
          </p>
        </li>
        <li>
          <p>A list with all the files and aliases that will be created will apear:
            <img src="/images/basic/adding_items/cloned_files.png" alt="cloned_files"/>
            Take some seconds to review it to make sure everything's correct (you can uncheck those that you don't want to be created), then click on "Accept". It might take a bit to refresh the view, wait until SHED recovers.
          </p>
        </li>
        <li>
          <p><a name="AutoLocalization"></a> Let's click on our cloned item in the treeview and check that there are no errors. 
            <img src="/images/basic/adding_items/just_cloned.png" alt="just_cloned"/>
          </p>
          <p>  First, you'll notice that the text in the entity_data from the ghost JSON file has been unlocalized. This is necessary for the auto-localization to work correctly.</p>
          <p>  <img src="/images/basic/adding_items/unlocalized.png" alt="unlocalized"/></p>
          <p>  Simply click on the "Localize This File" button and it will add the corresponding keys to your mod's en.json file using the same convention that we use in stonehearth, as well as adjust our table's JSON file to point to those keys (it should auto-refresh, wait a couple seconds).</p>
          <p>  You can now Ctrl+click on the localization string, and a popup will appear and let us change the text automatically. This is a pretty convenient functionality of SHED. For those that can't use it, they can always use the search function (or search in files) from their text editor.</p>
          <p>  Now for the model. It will have cloned the model of the table and renamed it. If you have a voxel editor installed, you can click on the button with the Qubicle icon (above the tabs) to open the QB model with it, and start editing away. Make sure to re-export it again with the <a href="../../art/modeling/index.html">correct settings</a> and name.</p>
        </li>
        <li>
          <p>Test your mod in the game to make sure the item looks and behaves correctly.
            <img src="/images/basic/adding_items/testing_new_item.png" alt="testing_new_item"/>
          </p>
        </li>
      </ol>
      <h2><a name="AddingAlias"></a>Adding aliases in SHED</h2>
      <p>You can also add an item to your mod by right-clicking your mod name in SHED and clicking on "Add alias". This will prompt you to choose a file to reference with that alias, so you would need to have that file already created beforehand. It can be useful when you notice that some existing file from your mod will be referenced by several files and you'd like to make an alias for it.</p>
      <p><img src="/images/common/row_alert2.png" alt="icon"/>You can also remove aliases with the option from the right-click menu, but the files they point to won't be removed from your mod. If you need to delete them, do so manually.</p>
    </main>
  </body>
</html>