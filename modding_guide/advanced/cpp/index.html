<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href='/modding_guide/css/styles.css' rel='stylesheet' type='text/css'>
        <link rel="icon" type="image/png" href='/modding_guide/images/favicon_logo_sh.png'>
        <link rel="apple-touch-icon" type="image/png" href='/modding_guide/images/favicon_logo_sh.png'>
        <link rel="icon" type="image/png" sizes="144x144" href='/modding_guide/images/favicon_logo_sh.png'>
        <title>C++ functions</title>
    </head>
    <body>
        <script src="/modding_guide/menus.js"></script>
        <main>
            <h1>C++ functions</h1>
            <p>You can find a list of the existing C++ functions that we can call from Lua/Javascript here: <a href="/modding_guide/files/CppReference.pdf">PDF</a>.</p>
            <p>Most don't include the possible parameters, but try calling them and the possible signatures should appear in an error message.</p>
            <ul>
                <li><a href="#CppFromJS">Calling C++ functions from Javascript</a></li>
                <li><a href="#CppFromLua">Calling C++ functions from Lua</a></li>
            </ul>
            <h2><a name="CppFromJS"></a>Calling C++ functions from Javascript</h2>
            <p>We can call client functions from Javascript, using <code>radiant:call</code> with the route name and the args we want to pass in:</p>
            <pre><code>  radiant.call('radiant:route_name', arg1, arg2, {arg3: {'x':1}{'y':2}{'z':3}} );
</code></pre>
            <p>For instance:</p>
            <pre><code>  radiant.call('radiant:play_sound', {'track' : 'stonehearth:sounds:ui:action_click' });
</code></pre>
            <h2><a name="CppFromLua"></a>Calling C++ functions from Lua</h2>
            <p>If a function has been made available to Javascript, it can be called from Lua also. Use this syntax:</p>
            <pre><code>  _radiant.call('radiant:game:get_game_speed')
     :done(function(r)
         -- Do something
      end)
</code></pre>
            <p>We can access the C++ components too and use the functions listed in the PDF:</p>
            <pre><code>  local mob = entity:get_component('mob')
  local facing = mob and mob:get_facing()
</code></pre>
            <p>Calling the functions from the Open Lua functions list from the PDF would be like this:</p>
            <pre><code>  _radiant.sim.topology.are_connected(entity, pt)
</code></pre>
        </main>
    </body>
</html>