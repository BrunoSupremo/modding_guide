<head>
   <link href='./../../../css/styles.css' rel='stylesheet' type='text/css'>
</head>
<body id="documentation">
   <!-- the header of the page -->
   <div class="inner">
      <header>
<div class='logo'>
</div>
</header>

      <div id="content_wrapper">
         <aside class="sidebar">
   <nav>
      <ul>
      
      

   <li>
      <a href='./../../.././index.html'>Stonehearth's Modding Guide</a>
      <ul>



   
      

   <li>
      <a href='./../../.././modding_guide/index.html'>Modding Guide</a>
      <ul>



   
      

   <li>
      <a href='./../../.././modding_guide/essentials/index.html'>Modding Essentials</a>
      <ul>



   
      

   <li>
      <a href='./../../.././modding_guide/essentials/managing/index.html'>Managing mods</a>
      <ul>



   
      

   <li>
      <a href='./../../.././modding_guide/essentials/managing/workshop/index.html'>Steam Workshop mods</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/managing/unmanaged/index.html'>Unmanaged mods</a>
      <ul>





   </ul>
</li>

   



   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/programming_languages/index.html'>Programming Languages</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/modding_scope/index.html'>What can be modded</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/tools/index.html'>Tools for modding</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/stonehearth/index.html'>The Stonehearth mod</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/json/index.html'>Small intro to JSON</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/manifest/index.html'>The manifest</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/entities_components/index.html'>Entities and components</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/mixins/index.html'>Mixins</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/mixintos_overrides/index.html'>Mixintos and overrides</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/removing/index.html'>How to remove existing things</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/localization/index.html'>Localization</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/debugging/index.html'>How to debug your errors</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/debugtools/index.html'>Using debug tools</a>
      <ul>



   
      

   <li>
      <a href='./../../.././modding_guide/essentials/debugtools/debugtools_mod/index.html'>The debugtools mod</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/debugtools/default_console/index.html'>The default console</a>
      <ul>





   </ul>
</li>

   



   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/startermods/index.html'>Startermod example</a>
      <ul>





   </ul>
</li>

   
      

   <li>
      <a href='./../../.././modding_guide/essentials/shed/index.html'>How to save time with SHED</a>
      <ul>





   </ul>
</li>

   



   </ul>
</li>

   



   </ul>
</li>

   



   </ul>
</li>

      </ul>
   </nav>
</aside>


         <div id="content">         
   <div class='page_title'>Localization</div>
   <p><h2>About localization</h2></p>

<p>Stonehearth's UI is encoded in UTF-8 and we use this Javascript <a href="https://www.i18next.com/">framework</a> for localization.</p>



<p>Localization in the game works this way: for every text that we want to be translatable, we create a key in the stonehearth/locales/en.json file. Then, in our JSON files, we reference that key wrapping it inside <strong>"i18n()"</strong>.
For example, this is how we specify the name and description of the brightbell window box:</p>



<pre><code>  "entity_data": {
     "stonehearth:catalog": {
        "display_name": "i18n(stonehearth:entities.decoration.window_box_brightbell.window_box_brightbell_ghost.display_name)",
        "description": "i18n(stonehearth:entities.decoration.window_box_brightbell.window_box_brightbell_ghost.description)",
        "icon": "file(window_box_brightbell.png)",
        "category": "decoration",
        "material_tags": "decoration crafted stockpile_decoration"
     }
  }
</code></pre>

<p>Notice the dots separating the keys. In the en.json file, we'll have this structure:</p>



<pre><code>  {
     "entities" : {
        "decoration": {
           "window_box_brightbell" : {
              "window_box_brightbell_ghost" : {
                 "display_name" : "Brightbell planter",
                 "description" : "A tidy home for the plant."
              }
           }
        }
     }
  }
</code></pre>

<p>So we use "i18n()" and inside it we write the namespace of our mod, a colon, and then the hierarchy of keys that we set up in the language file, separated by dots. When the game loads this file, it will replace the i18n() string with the actual translation we specified in our language file.</p>



<p>We have thousands of text lines to translate in the stonehearth mod, so we organize the keys imitating our folder structure. In this case, the text we want to translate is inside stonehearth/entities/decoration/window_box_brightbell/window_box_brightbell_ghost.json.</p>



<p>When adding localization to your own mod, you can use any nodes you like for your en.json file, you can even have all the keys at the same level, like this:</p>



<pre><code>  {
     "name_1" : "Test",
     "description_1" : "My description",
     "info" : "Another text"
  }
</code></pre>

<p>But it's useful to have them organized so that you can have repeated keys inside different nodes.</p>



<p>When making a translation mod for an existing en.json file, you have to use the exact same keys, then translate the text/value part into your language.</p>



<p><img src="../../../images/common/row_alert2.png" alt="icon"/> When translating the stonehearth mod, you might find special text inside localization strings, such as <strong>[str(i18n_data.town_name)]</strong>. These are meant to be left untouched. They are variables that will get substituted inside the game. For example, [str(i18n_data.town_name)] represents your town name. These variables are declared in JSON files such as campaign encounters that trigger dialogs. That way, we can use proper nouns dynamically generated by the game inside of our translatable text, such as boss names, your town name (which you customize when you start playing), etc.</p>



<p>Information about fonts and how to make translation mods <a href="#">here</a>.</p>

   
</div>

      </div>
      <footer>
</footer>

   </div>
</body>
